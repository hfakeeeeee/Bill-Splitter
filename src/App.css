@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

:root{
  --bg:#0b1220;
  --panel:#111a2b;
  --panel-2:#0f172a;
  --muted:#94a3b8;
  --text:#e5e7eb;
  --primary:#6d5efc;
  --primary-2:#8c5bff;
  --success:#10b981;
  --danger:#ef4444;
  --border:#1e293b;
  --card:#0e1627;
  --accent:#1e293b;
  --control-h:40px;
}

*{ box-sizing: border-box; }
html, body, #root { height:100%; }
body{
  margin:0;
  background: radial-gradient(60rem 60rem at 10% -10%, #1e1b4b 0%, #0b1220 40%),
              radial-gradient(60rem 60rem at 110% -10%, #1f2937 0%, #0b1220 35%),
              var(--bg);
  color:var(--text);
  font-family:"Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

/* Topbar */
.topbar{
  height:60px;
  display:flex; align-items:center;
  gap:16px;
  padding:0 16px;
  background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  border-bottom:1px solid var(--border);
}
.brand{ display:flex; align-items:center; gap:10px; font-weight:700; }
.brand-icon{ width:20px; height:20px; color:#c4b5fd; }

.sheetbar{ display:flex; align-items:center; gap:8px; }
.top-actions{ margin-left:auto; display:flex; gap:8px; }

/* Buttons */
button{ cursor:pointer; border:none; }
.primary, .ghost, .danger {
  height:var(--control-h); padding:0 14px; border-radius:12px;
  display:inline-flex; align-items:center; gap:8px; font-weight:600;
}
.primary{ background:linear-gradient(135deg,var(--primary) 0%, var(--primary-2) 100%); color:#fff; }
.ghost{ background:#0f172a; color:#cbd5e1; border:1px solid var(--border); }
.danger{ background:rgba(239,68,68,.12); color:#fecaca; border:1px solid rgba(239,68,68,.35); }
button:disabled{ opacity:.5; cursor:not-allowed; }

/* Select with custom chevron */
.sheet-select{
  height:var(--control-h); padding:0 40px 0 14px;
  border-radius:14px; border:1px solid var(--border);
  background:var(--panel); color:var(--text);
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background-image:url("data:image/svg+xml;utf8,<svg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path d='M6 8l4 4 4-4' fill='none' stroke='%23cbd5e1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>");
  background-repeat:no-repeat; background-position:right 12px center; background-size:14px 14px;
}

/* Layout */
.app{ height:100%; display:flex; flex-direction:column; }
.shell{ flex:1; min-height:0; padding:12px; }
.main-grid{
  height:100%; display:grid; grid-template-columns: 1.4fr 1fr; gap:12px;
}
.stack{ min-width:0; display:flex; flex-direction:column; gap:12px; }

/* Card */
.card{
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border:1px solid var(--border);
  border-radius:14px; padding:12px; display:flex; flex-direction:column; min-height:0;
}
.card-fill{ flex:1 1 auto; }
.card-header{ display:flex; align-items:center; gap:8px; margin-bottom:10px; }
.card-icon{ width:18px; height:18px; color:#c4b5fd; }
.card h2{ margin:0; font-size:15px; font-weight:700; letter-spacing:.2px; }

/* Forms */
.form-grid{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
.form-group{ display:flex; flex-direction:column; gap:6px; min-width:0; }
.form-group label{ font-size:12px; color:var(--muted); }
.form-group input, .form-group select{
  height:var(--control-h); border-radius:10px; border:1px solid var(--border);
  padding:0 12px; background:#0b1324; color:#e5e7eb;
}
.form-group input:focus, .form-group select:focus{ outline:none; border-color:#7c3aed; box-shadow:0 0 0 3px rgba(124,58,237,.15); }

/* Discount */
.discount-info{ margin-top:8px; }
.discount-badge{
  display:flex; justify-content:space-between; align-items:center;
  border:1px solid #0ea5e9; border-radius:10px; padding:10px 12px;
  background:linear-gradient(135deg, rgba(14,165,233,.15), rgba(59,130,246,.08));
}
.discount-badge span{ color:#93c5fd; font-size:12px; }
.discount-badge strong{ color:#e0f2fe; }

/* Validation */
.validation{
  display:flex; align-items:center; gap:8px; padding:8px 10px; border-radius:10px; font-size:13px;
  border:1px solid var(--border); background:#0b1324; color:#e5e7eb; margin-bottom:8px;
}
.validation.success{ border-color:#22c55e3d; }
.validation.warning{ border-color:#f59e0b3d; }
.validation.error{ border-color:#ef44443d; }

/* Members grid (auto-fit, no scroll) */
.members-list{
  display:grid; width:100%; flex:1 1 auto; min-height:0;
}
.member{
  background:#0b1324; border:1px solid var(--border); border-radius:12px; padding:10px;
  display:flex; flex-direction:column; min-width:0;
}
.member.paid{ background:linear-gradient(180deg, rgba(34,197,94,.15), rgba(34,197,94,.08)); border-color:#16a34a5c; }
.member-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.badge{ background:linear-gradient(135deg, #6d5efc, #8c5bff); color:#fff; font-weight:700; border-radius:999px; padding:2px 8px; font-size:11px; }
.member-actions{ display:flex; gap:6px; }
.circle{
  width:32px; height:32px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center;
  background:#0f172a; border:1px solid var(--border); color:#cbd5e1;
}
.circle.ok{ background:#16a34a; color:white; border-color:#16a34a; }
.circle.danger{ background:rgba(239,68,68,.12); color:#fecaca; border-color:rgba(239,68,68,.35); }

.member-form{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px; }
.price-pill{
  height:var(--control-h); border-radius:10px; display:flex; align-items:center; justify-content:center;
  font-weight:800; background:linear-gradient(135deg, #10b981, #059669); color:#fff;
}

/* Pager */
.pager{ margin-top:10px; display:flex; align-items:center; justify-content:space-between; }
.pager-label{ color:var(--muted); font-size:13px; }

/* Tabs & panels (right column) */
.tabs{ display:flex; gap:8px; border-bottom:1px dashed var(--border); padding-bottom:8px; margin-bottom:8px; }
.tab{ height:var(--control-h); padding:0 12px; border-radius:10px; background:#0b1324; border:1px solid var(--border); color:#e5e7eb; }
.tab.active{ background:linear-gradient(135deg, #111827, #0b1324); border-color:#334155; }

.panel{ display:flex; flex-direction:column; gap:12px; }

/* Progress */
.progress{ height:10px; background:#0b1324; border-radius:999px; border:1px solid var(--border); overflow:hidden; }
.progress-fill{ height:100%; background:linear-gradient(90deg, #16a34a, #22c55e); }
.progress-lg{ height:14px; }
.progress-label-lg{ text-align:center; font-weight:800; letter-spacing:.5px; }

/* Summary box */
.summary{ border:1px solid var(--border); border-radius:12px; padding:10px; background:#0b1324; }
.summary .row{ display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px dashed var(--border); }
.summary .row:last-child{ border-bottom:none; }
.summary .row span{ color:var(--muted); font-size:13px; }
.summary .row strong.ok{ color:#22c55e; }
.summary .row strong.danger{ color:#ef4444; }
.summary .row.total{ border-top:1px solid #16a34a5c; margin-top:4px; }

/* QR */
.qr-frame{
  display:flex; align-items:center; justify-content:center;
  border:1px solid var(--border); border-radius:12px; background:#0b1324; padding:12px;
}
.qr-frame img{ max-width:340px; max-height:340px; border-radius:10px; box-shadow:0 10px 24px rgba(0,0,0,.35); }
.qr-fallback{ display:flex; flex-direction:column; align-items:center; justify-content:center; color:#94a3b8; gap:8px; padding:20px; }

/* Upload QR */
.qr-upload{ display:flex; flex-direction:column; gap:10px; }
.upload-btn{
  height:var(--control-h); display:inline-flex; align-items:center; gap:8px; padding:0 14px;
  border:1px dashed #334155; color:#cbd5e1; border-radius:12px; background:#0b1324; cursor:pointer;
}
.upload-btn input{ display:none; }
.qr-list{ display:flex; flex-wrap:wrap; gap:8px; }
.qr-item{ display:flex; align-items:center; gap:8px; padding:6px 8px; border:1px solid var(--border); border-radius:10px; background:#0b1324; }
.qr-item img{ width:36px; height:36px; object-fit:cover; border-radius:8px; }

/* Misc */
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.hstack{ display:flex; align-items:center; gap:8px; }
.spacer{ flex:1; }
.note{ color:#cbd5e1; }

/* Responsive */
@media (max-width: 1100px){
  .main-grid{ grid-template-columns: 1fr; }
  .form-grid{ grid-template-columns: 1fr; }
  .member-form{ grid-template-columns: 1fr; }
  .qr-frame img{ max-width: 280px; max-height: 280px; }
}
